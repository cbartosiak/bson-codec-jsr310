language: java

env:
    global:
        - secure: bBL1YiNXLYjoga+P9q5pNFV4J/9n3/3oxC0j37T9cqkclcXurRktqibxeDPyvl+4XZW07hVp57kYJPk3Mo2a4St1ycy8WQFWvQAHgy/pj5vazwAFVfd76W3e4cITOK8pRG8AKnyCbYF21xH4muht7sdoaCQoXsHfv18DuepLyvzGPQyYVWW5pBeN0OwVVVpnBlsR6tOOFGV3c+MlX+HCQRIl0DTFVF9TSWqnN3/XuGeOdFJItWpRcMOi2hSGK/5MG1D20jjoe453TICIHNjCvEY3mLkEVO89z4yXTYEBuPSJQh88816LyFi54jtVxbqjqUFPG3pM10BF9Q5rH606KCBwkmy2AGnNYiyGOO5OUVIttUz2c/8IaTWLiAsryOU93NfWy4WMh9VIrOa2Ya+Iq2HMySMBM51bgJZwWfZ5crsPilgXNJbg/Jm3m+FM9TX7C1wlJKzkZWyCCh3ouoAM3nratWoMXPqgHnv2of2n2JGGsDZm42iLHl1PCGdxcY0kd9CaSYRBenyRO/xtJaAOGNVpVFg/sTazPJrICP9MDfiVxCJn7WFexwXVVOjynsg0ianB813WpjUpZJ+eHTXoyreR6Ql3dYSeZ5ublWfstzzgDXcxjqxVcg/UuQctfCzTqW38zp3bXVVinkjp6/qd3o+XH3nTirnV4F/FVwOFEQ8=
        - # ^^ OSSRH_USERNAME
        - secure: E0ut38ujqgGXBNpBp7ZBKOwv7115n3OWOPdK4cHoWGDDVL19KrbZ+rt7rlg0M0Bo/PF2Jv3FTXtFjjDDAvd+AJZaMtaDgt3D1kWrP3iTmhtjn5bIaE0BDRtjrCIqe/WbMh1HEpdYLqUPBdBqMEksDUO+/Ncu5+KUgRgv/kOQ/Zulc3wp/3lK8XgGYMjTdMot/oUvuYngTYw7Chw9MM8DMKfdaMuPFUi/GoIcOwQUwOVhP7ZZQCvzzQgfvdXm3D9XAgeuOWPeXSenb8e1r1UDEkogLeUPK60P1VAPJIZ8X96fCxqZ9f656T6bPDucEjqx02KtekNX/xNqLddxsgwGIdP4hB0RQwSFVHDVjZBGtmbdLB1dPbLOzTJ0A9wbQ/E/CDdokFe9FcIdw5+X7Lqwjgljtv6+tiaEAUt137Px8AsBYUHgEoK3g7fXuhOomofNwBN/VPN1GAUoDMV7qA9Ujnfs31xav9CPB8m6Nt9T+lqoaZJHPYVla0d8f5WGy4AOnnwend9j3SBKSnEK4lVSJc5R02jBPBPeJoUksj2PPU7x5TPujWVbq/PIIyuQ86G3iW/qXVCITCOjrq0FdkYHgi4mDGr/FoEthtu1pkd7LVtkoCEBIpst65zouM1YxBd9IyhYJ0/IldykLBKgzzPjYFxHz4T0w5I4zTtBDdpDtTk=
        - # ^^ OSSRH_PASSWORD
        - secure: a1WnsZbwoCJSOJjvSCpNV/u0ZfhLwVzh7vIisgLlgSq2ddpJEEfYIr2g+g+NhRUvyv0VKqaSVur/wBaC7SxKpwh8CQhTC3DMmFyHFnwvd9vBSShIPLdMf/jk3PYZ4V4MYFqu4qCGPGtQFESjdlfIuTdeCaeHFHaYZTKpk/mMvFezjcXZ8rX6ePKFTkfL3zRW+NmVblctq0dCmdusulv+9AVjtd48d6qTOXklSEyiJqfkqdwTgiAooLKffPSk1Wr/mzraUsKSLI5PhAiqgnt2FcDjAS0CCgTklkBkJyI7Ov1Zf0cRssUZfA8Ew58ehfd4MLK6iWpuLA7wkyJtdXRSyKx5pIYk/Z1PBQWZJVkX0a6PXXuuM1q13mP4ZghQx55qWtAn+IHQxtqnOlxolQw5m43rCqgutKMSQVamry/lV3gyrUnd3Yb8iX/fXatOMZ5u3OJav2YVd6QgMrWCAx7JnpVC7D/oCXnTb5qzD/v2AdCTeLqqsMBXvH6sdiXN/+U2ZluR5dZ5ZoFPFxEyBseL6Qq3x4SJh4ugEItl0jRZX2APm2joKqtH1VVe4p9aQYDryE5RVmvyLl0tICf5nzhDJ5Gsvka83srfRrdr24u88xt/QuDVrBxVOKh5eViwheEwEFLXcIkaxBb3v9ibJTgJdtVRB+ma3uaw7r80ibL2Kms=
        - # ^^ GPG_KEY_NAME
        - secure: DHVAXHDxpQMbU3uUnPq4NB4QgFcVdAT5XFqF6lzoIMNCwtSgvisKRto3LSoT7DETDxEICw8qCjJ/kLiRRtkZcEvcFXHiEYOLjXz5gWlP/WyA8cI7nqdOkhFUKBhBPteLmyhiX0w66sR89+HejFQamCRNrfzjERPsovKJ+s+4Yvw51JAlMemp1BvFvtUL5ZjBm7I4dgrk71Po/6qG5ib4BlcLA2yFeJqIFbpFc3JXbVmJj1pvGoDjRddZS9CfmrCF5FW0ehRLcE28Ea/VjD8iNMUX0Ut07PDFrA0PNR+cQPkqNktHgQ1XAGZfiriZsx5b29igoR/LLfHSs3mb0Ejhe2LhM0vd/RZ/fFo4xSvkujI7GF1yC2G2Jk+ri2BBM+JG8qZGyp3y7gDWTChnLmiLCEQk6QU2w9iX8YG9MTHE7sC5likD0DmXi/6o9CcKTxVnWwu9hzr1xZ9EtQms8ORt2b2h7zztoF29A2qWwKt0T83p6Vnj4NmOqCHq/cJGyAxo5E7fGG29EAQiuruU76QZLs70pq9KgKL0TKTcksEqfgx2VSTT/6MNwDngG7B5cF9t6h3h7/H/k0aiU9fwLBAb0ziD2gzOnzcwmH3Kzb1JKswLvoMKEff9EbRwx+iFJcvDzTX6ADR//IheDqiRaLropgEn554kCuybfyp4lU2HLvU=
        - # ^^ GPG_PASSPHRASE

cache:
    directories:
        - ~/.m2/repository

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B

script: mvn test -P !build-extras -B

after_success:
    - chmod +x travis/before-deploy.sh
    - chmod +x travis/deploy.sh
    - ./travis/before-deploy.sh
    - ./travis/deploy.sh
